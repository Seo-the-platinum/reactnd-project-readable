(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{26:function(t,e,n){var r=n(25),o={},a={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",timestamp:1467166872634,title:"Udacity is the best place to learn React",body:"Everyone says so after all.",author:"thingtwo",category:"react",voteScore:6,deleted:!1,commentCount:2},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",timestamp:1468479767190,title:"Learn Redux in 10 minutes!",body:"Just kidding. It takes more than 10 minutes to learn technology.",author:"thingone",category:"redux",voteScore:-5,deleted:!1,commentCount:0}};function c(t){var e=o[t];return null==e&&(e=o[t]=r(a)),e}t.exports={get:function(t,e){return new Promise((function(n){var r=c(t);n(r[e].deleted?{}:r[e])}))},getData:c,getAll:function(t){return new Promise((function(e){var n=c(t);e(Object.keys(n).filter((function(t){return!n[t].deleted})).map((function(t){return n[t]})))}))},getByCategory:function(t,e){return new Promise((function(n){var r=c(t);n(Object.keys(r).filter((function(t){return r[t].category===e&&!r[t].deleted})).map((function(t){return r[t]})))}))},add:function(t,e){return new Promise((function(n){var r=c(t);r[e.id]={id:e.id,timestamp:e.timestamp,title:e.title,body:e.body,author:e.author,category:e.category,voteScore:1,deleted:!1,commentCount:0},n(r[e.id])}))},vote:function(t,e,n){return new Promise((function(r){var o=c(t)[e];switch(n){case"upVote":o.voteScore=o.voteScore+1;break;case"downVote":o.voteScore=o.voteScore-1;break;default:console.log("posts.vote received incorrect parameter: ".concat(n))}r(o)}))},disable:function(t,e){return new Promise((function(n){var r=c(t);r[e].deleted=!0,n(r[e])}))},edit:function(t,e,n){return new Promise((function(r){var o=c(t);for(var a in n)o[e][a]=n[a];r(o[e])}))},incrementCommentCounter:function(t,e,n){var r=c(t);r[e]&&(r[e].commentCount+=n)}}},33:function(t,e,n){var r=n(25),o=n(26),a={},c={"894tuq4ut84ut8v4t8wun89g":{id:"894tuq4ut84ut8v4t8wun89g",parentId:"8xf0y6ziyjabvozdd253nd",timestamp:1468166872634,body:"Hi there! I am a COMMENT.",author:"thingtwo",voteScore:6,deleted:!1,parentDeleted:!1},"8tu4bsun805n8un48ve89":{id:"8tu4bsun805n8un48ve89",parentId:"8xf0y6ziyjabvozdd253nd",timestamp:1469479767190,body:"Comments. Are. Cool.",author:"thingone",voteScore:-5,deleted:!1,parentDeleted:!1}};function i(t){var e=a[t];return null==e&&(e=a[t]=r(c)),e}t.exports={getData:i,get:function(t,e){return new Promise((function(n){var r=i(t);n(r[e].deleted||r[e].parentDeleted?{}:r[e])}))},getByParent:function(t,e){return new Promise((function(n){var r=i(t);n(Object.keys(r).filter((function(t){return r[t].parentId===e&&!r[t].deleted})).map((function(t){return r[t]})))}))},add:function(t,e){return console.log(e),new Promise((function(n){var r=i(t);r[e.id]={id:e.id,timestamp:e.timestamp,body:e.body,author:e.author,parentId:e.parentId,voteScore:1,deleted:!1,parentDeleted:!1},o.incrementCommentCounter(t,e.parentId,1),n(r[e.id])}))},vote:function(t,e,n){return new Promise((function(r){var o=i(t)[e];switch(n){case"upVote":o.voteScore=o.voteScore+1;break;case"downVote":o.voteScore=o.voteScore-1;break;default:console.log("comments.vote received incorrect parameter: ".concat(n))}r(o)}))},disableByParent:function(t,e){return console.log(e),new Promise((function(n){var r=i(t);Object.keys(r).filter((function(t){return r[t].parentId===e.id})).forEach((function(t){return r[t].parentDeleted=!0})),n(e)}))},disable:function(t,e){return new Promise((function(n){var r=i(t);r[e].deleted=!0,o.incrementCommentCounter(t,r[e].parentId,-1),n(r[e])}))},edit:function(t,e,n){return new Promise((function(r){var o=i(t);for(var a in n)o[e][a]=n[a];r(o[e])}))}}},41:function(t,e,n){t.exports=n(59)},46:function(t,e,n){},57:function(t,e,n){var r=n(25),o=(n(58),{}),a={categories:[{name:"react",path:"react"},{name:"redux",path:"redux"},{name:"udacity",path:"udacity"}]};t.exports={getAll:function(t){return new Promise((function(e){e(function(t){var e=o[t];return null==e&&(e=o[t]=r(a)),e}(t))}))}}},58:function(t,e){e.port=Object({NODE_ENV:"production",PUBLIC_URL:"/reactnd-project-readable/frontend"}).PORT||3001,e.origin=Object({NODE_ENV:"production",PUBLIC_URL:"/reactnd-project-readable/frontend"}).ORIGIN||"http://localhost:".concat(e.port)},59:function(t,e,n){"use strict";n.r(e);var r=n(1),o=n(0),a=n.n(o),c=n(22),i=n.n(c),u=(n(46),n(4)),l=n(5),s=n(8),p=n(6),d=n(9),f=n(11),m=n(19),b=n(7),h=n(2);function v(){var t=Object(r.a)(["\n  color: white;\n"]);return v=function(){return t},t}var y=h.b.h4(v()),O=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props.data;return a.a.createElement("div",null,a.a.createElement(y,null,t.title))}}]),e}(o.Component);var g=Object(b.b)((function(t,e){return{posts:t.posts}}))(O);function j(){var t=Object(r.a)(["\n  background: rgb(2, 150, 156);\n  color: white;\n  margin: 1px;\n  text-decoration: none;\n"]);return j=function(){return t},t}function x(){var t=Object(r.a)(["\n  color: white;\n  width: 15%;\n  text-align: center;\n  font-size: 18px;\n  background: rgb(2, 150, 156);\n  margin-top: 10px;\n"]);return x=function(){return t},t}function E(){var t=Object(r.a)(["\n  border: none;\n  padding: 0;\n  background: 0;\n  color: white;\n"]);return E=function(){return t},t}function w(){var t=Object(r.a)(["\n  display: flex;\n  width: 100%;\n  margin: 5px;\n  justify-content: space-around;\n"]);return w=function(){return t},t}function S(){var t=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: flex-start;\n  margin-left: 10px;\n"]);return S=function(){return t},t}function P(){var t=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 80%;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  background: rgb(2, 150, 156);\n  max-height: 33%;\n  border: solid 2px white;\n  border-radius: 15px;\n  box-shadow: 3px 3px #023133;\n\n"]);return P=function(){return t},t}var C=h.b.div(P()),k=h.b.div(S()),D=h.b.div(w()),A=h.b.button(E()),I=h.b.h1(x()),T=Object(h.b)(f.b)(j()),V=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).state={byScore:!0},n.toggle=function(){n.state.byScore?n.setState((function(t){return{currState:t,byScore:!1}})):n.setState((function(t){return{currState:t,byScore:!0}}))},n.capitaliseCategory=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.name,n=t.posts,r=this.state.byScore,o=Object.keys(n).filter((function(t){return n[t].category===e&&!0!==n[t].deleted}));return a.a.createElement(C,null,a.a.createElement(I,null,this.capitaliseCategory(e)),a.a.createElement(k,null,a.a.createElement(A,{onClick:this.toggle},r?"Filter by Time":"Filter by Score")),a.a.createElement(D,null,a.a.createElement(T,{to:"/categoryview/".concat(this.props.path)},"View Category"),a.a.createElement(T,{to:"/add/".concat(e)},"Add Post")),a.a.createElement("div",null,r?o.sort((function(t,e){return n[e].voteScore-n[t].voteScore})).map((function(t){var e=n[t].id;return a.a.createElement(g,{key:e,data:n[t]})})):o.sort((function(t,e){return n[e].timestamp-n[t].timestamp})).map((function(t){var e=n[t].id;return a.a.createElement(g,{key:e,data:n[t]})}))))}}]),e}(o.Component);var M=Object(b.b)((function(t,e){return{posts:t.posts}}))(V);function _(){var t=Object(r.a)(["\n  background: rgb(2, 150, 156);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return _=function(){return t},t}var z=h.b.div(_()),B=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props.categories;return a.a.createElement(z,null,Object.keys(t).map((function(e){return a.a.createElement(M,{key:t[e].name,name:t[e].name,path:t[e].path})})))}}]),e}(o.Component);var N=Object(b.b)((function(t){return{categories:t.categories}}))(B);function R(){var t=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border: solid 2px white;\n  border-radius: 15px;\n  box-shadow: 3px 3px #023133;\n  width: 80%;\n  margin-top: 20px;\n"]);return R=function(){return t},t}function L(){var t=Object(r.a)(["\n  display: flex;\n  width: 100%;\n  margin-top: 10px;\n  flex-direction: column;\n  align-items: center;\n"]);return L=function(){return t},t}function U(){var t=Object(r.a)(["\n  border: none;\n  padding: 0;\n  background: 0;\n  color: white;\n"]);return U=function(){return t},t}function F(){var t=Object(r.a)(["\n  color: white;\n"]);return F=function(){return t},t}function G(){var t=Object(r.a)(["\n  background: rgb(2, 150, 156);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return G=function(){return t},t}var H=h.b.div(G()),J=h.b.h1(F()),q=h.b.button(U()),W=h.b.div(L()),K=h.b.div(R()),Q=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).capitaliseCategory=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.path,n=t.posts,r=Object.keys(n).filter((function(t){return n[t].category===e&&!0!==n[t].deleted}));return a.a.createElement(H,null,a.a.createElement(J,null,this.capitaliseCategory(e)),a.a.createElement(q,null,"Filter Posts"),a.a.createElement(W,null,r.map((function(t){var e=n[t].id;return a.a.createElement(K,{key:e},a.a.createElement(g,{key:e,data:n[t]}),a.a.createElement(f.b,{to:{pathname:"/postview/".concat(n[t].id),state:{index:t}}},a.a.createElement(q,null,"View Post")))}))))}}]),e}(o.Component);var X=Object(b.b)((function(t,e){var n=t.categories,r=t.posts,o=e.match.params.path;return console.log(o),{path:o,categories:n,posts:r}}))(Q),Y="RECEIVE_COMMENTS",Z="ADD_COMMENT",$="EDIT_COMMENT",tt="DELETE_COMMENT",et="VOTE_COMMENT",nt=n(33),rt=nt.add,ot=nt.edit,at=nt.disableByParent,ct=nt.disable,it=nt.vote;function ut(t){var e=t.comment;return function(t){return rt(void 0,e).then((function(e){t(function(t){return{type:Z,comment:t}}(e))}))}}function lt(t){var e=t.comment;return function(t){return ot(void 0,e.id,e).then((function(e){t(function(t){return{type:$,comment:t}}(e))}))}}function st(t){var e=t.comment;return function(t){return ct(void 0,e.id).then((function(e){t(function(t){return{type:tt,comment:t}}(e.id))}))}}function pt(t,e){var n=t.comment;return function(t){return it(void 0,n.id,e).then((function(e){t(function(t){return{type:et,comment:t}}(e))}))}}function dt(){var t=Object(r.a)(["\n  border: solid 2px white;\n  box-shadow: 3px 3px #023133;\n  border-radius: 15px;\n  display: flex;\n  justify-content: center;\n  width: 50%;\n  color: white;\n  flex:1;\n  padding: 5px;\n"]);return dt=function(){return t},t}function ft(){var t=Object(r.a)(["\n  color: white;\n"]);return ft=function(){return t},t}function mt(){var t=Object(r.a)(["\n  border: none;\n  padding: 0;\n  background: 0;\n  color: white;\n  font-size: 18px;\n  margin: 5px;\n"]);return mt=function(){return t},t}function bt(){var t=Object(r.a)(["\n  color: white;\n  margin: 10px;\n  padding: none;\n  text-decoration: none;\n"]);return bt=function(){return t},t}function ht(){var t=Object(r.a)(["\n  align-items: center;\n  border: solid 2px white;\n  border-radius: 15px;\n  box-shadow: 3px 3px #023133;\n  display: flex;\n  flex-direction: column;\n  margin-top: 10px;\n"]);return ht=function(){return t},t}var vt=h.b.div(ht()),yt=Object(h.b)(f.b)(bt()),Ot=h.b.button(mt()),gt=h.b.h3(ft()),jt=h.b.p(dt()),xt=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).state={redirect:!1},n.handleDelete=function(){var t=n.props;(0,t.dispatch)(st({comment:t.comments[t.id]}))},n.handleVote=function(t){var e=t.target.value,r=n.props;(0,r.dispatch)(pt({comment:r.comments[r.id]},e)).then((function(){n.setState((function(t){return{redirect:!0}}))}))},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.comments,r=e.id,o=n[r].timestamp,c=new Date(o);return this.state.redirect?a.a.createElement(m.a,{to:"/"}):a.a.createElement(vt,null,a.a.createElement("header",null,a.a.createElement(yt,{to:"/editcomment/".concat(r)},"Edit comment"),a.a.createElement(Ot,{onClick:this.handleDelete},"Delete comment"),a.a.createElement(Ot,{value:"upVote",onClick:function(e){return t.handleVote(e)}},"+"),a.a.createElement(Ot,{value:"downVote",onClick:function(e){return t.handleVote(e)}},"-")),a.a.createElement(gt,null,"Author: ",n[r].author),a.a.createElement(jt,null,"Date: ","".concat(c)),a.a.createElement(jt,null,n[r].body),a.a.createElement(jt,null,"Vote Score: ".concat(n[r].voteScore)))}}]),e}(o.Component);var Et=Object(b.b)((function(t,e){return{comments:t.comments}}))(xt),wt="RECEIVE_POSTS",St="ADD_POST",Pt="EDIT_POST",Ct="DELETE_POST",kt="VOTE_POST",Dt=n(26),At=Dt.add,It=Dt.edit,Tt=Dt.disable,Vt=Dt.vote;function Mt(t){var e=t.post;return function(t){return At(void 0,e).then((function(e){t(function(t){return{type:St,post:t}}(e))}))}}function _t(t){var e=t.post;return function(t){return It(void 0,e.id,e).then((function(e){t(function(t){return{type:Pt,post:t}}(e))}))}}function zt(t){return function(e){return Tt(void 0,t).then((function(t){e({type:Ct,post:t})}))}}function Bt(t,e){var n=t.post;return function(t){return Vt(void 0,n.id,e).then((function(){t(function(t){return{type:kt,post:t}}(n))}))}}function Nt(){var t=Object(r.a)(["\n  display: flex;\n  justify-content: space-around;\n  width: 60%;\n"]);return Nt=function(){return t},t}function Rt(){var t=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return Rt=function(){return t},t}function Lt(){var t=Object(r.a)(["\n  border: solid 2px white;\n  box-shadow: 3px 3px #023133;\n  border-radius: 15px;\n  display: flex;\n  justify-content: center;\n  width: 50%;\n  color: white;\n  flex:1;\n  padding: 5px;\n"]);return Lt=function(){return t},t}function Ut(){var t=Object(r.a)(["\n  color: white;\n"]);return Ut=function(){return t},t}function Ft(){var t=Object(r.a)(["\n  color: white;\n"]);return Ft=function(){return t},t}function Gt(){var t=Object(r.a)(["\n  display: flex;\n  justify-content: space-around;\n  width: 100%;\n"]);return Gt=function(){return t},t}function Ht(){var t=Object(r.a)(["\n  background: rgb(2, 150, 156);\n  color: white;\n  margin: 1px;\n  text-decoration: none;\n"]);return Ht=function(){return t},t}function Jt(){var t=Object(r.a)(["\n  border: none;\n  padding: 0;\n  background: 0;\n  color: white;\n  font-size: 18px;\n  margin: 5px;\n"]);return Jt=function(){return t},t}function qt(){var t=Object(r.a)(["\n  display: flex;\n  justify-contetn: center;\n  flex-direction: column;\n"]);return qt=function(){return t},t}function Wt(){var t=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border: solid white 1px;\n  border-radius: 15px;\n"]);return Wt=function(){return t},t}var Kt=h.b.div(Wt()),Qt=h.b.header(qt()),Xt=h.b.button(Jt()),Yt=Object(h.b)(f.b)(Ht()),Zt=h.b.div(Gt()),$t=h.b.h2(Ft()),te=h.b.h3(Ut()),ee=h.b.p(Lt()),ne=h.b.div(Rt()),re=h.b.div(Nt()),oe=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).state={redirect:!1},n.handleDelete=function(t){t.preventDefault();var e=n.props,r=e.dispatch,o=e.pid,a=e.posts[o];r(zt(o)),r(function(t){var e=t.post;return function(t){return at(void 0,e)}}({post:a})).then((function(){n.setState((function(t){return{currState:t,redirect:!0}}))}))},n.handleVote=function(t){var e=t.target.value,r=n.props;(0,r.dispatch)(Bt({post:r.posts[r.pid]},e)).then((function(){n.setState((function(t){return{currState:t,redirect:!0}}))}))},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.posts,r=e.pid,o=e.index,c=e.comments,i=n[o].timestamp,u=new Date(i),l=Object.keys(c).filter((function(t){return c[t].parentId===r&&!1===c[t].deleted}));return this.state.redirect?a.a.createElement(m.a,{to:"/"}):a.a.createElement(Kt,null,a.a.createElement($t,null,n[o].title),a.a.createElement(Qt,null,a.a.createElement(te,null," Author: ",n[o].author),a.a.createElement(te,null," Date: ","".concat(u)),a.a.createElement(te,null,"Score: ",n[o].voteScore)),a.a.createElement(Zt,null,a.a.createElement(Yt,{to:{pathname:"/addcomment/".concat(r),state:{index:o}}},"Add Comment"),a.a.createElement(Yt,{to:"/edit/".concat(r)},"Edit Post"),a.a.createElement(Xt,{onClick:function(e){return t.handleDelete(e)}},"Delete")),a.a.createElement(re,null,a.a.createElement(ee,null,n[o].body),a.a.createElement(Xt,{value:"upVote",onClick:function(e){return t.handleVote(e)}},"+"),a.a.createElement(Xt,{value:"downVote",onClick:function(e){return t.handleVote(e)}},"-")),a.a.createElement(ne,null,l.map((function(t){return a.a.createElement(Et,{key:c[t].id,id:c[t].id})}))))}}]),e}(o.Component);var ae=Object(b.b)((function(t,e){var n=t.posts,r=t.comments,o=e.match.params.pid;return{index:e.location.state.index,pid:o,posts:n,comments:r}}))(oe),ce=n(10);function ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ie(n,!0).forEach((function(e){Object(ce.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ie(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function le(){var t=Object(r.a)(["\n  color: white;\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n"]);return le=function(){return t},t}function se(){var t=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  border: solid 1px white;\n  border-radius: 15px;\n  padding: 20px;\n"]);return se=function(){return t},t}function pe(){var t=Object(r.a)(["\n  color: white;\n  display: flex;\n  justify-content: center;\n"]);return pe=function(){return t},t}function de(){var t=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border: solid white 1px;\n  border-radius: 15px;\n"]);return de=function(){return t},t}var fe=h.b.div(de()),me=h.b.h2(pe()),be=h.b.form(se()),he=h.b.label(le()),ve=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).state={p:{id:"",title:"",body:"",timestamp:null,author:"",category:""},redirect:!1},n.handleChangeTitle=function(t){var e=t.target.value;n.setState((function(t){return{p:ue({},t.p,{title:e})}}))},n.handleChangeBody=function(t){var e=t.target.value;n.setState((function(t){return{p:ue({},t.p,{body:e})}}))},n.handleChangeAuthor=function(t){var e=t.target.value;n.setState((function(t){return{p:ue({},t.p,{author:e})}}))},n.generateId=function(t){for(var e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<t;o++)e+=r.charAt(Math.floor(Math.random()*r.length));return n.setState((function(t){return{p:ue({},t.p,{id:e})}}))},n.generateTimeStamp=function(){n.setState((function(t){return{p:ue({},t.p,{timestamp:Date.now()})}}))},n.setCategory=function(){n.setState((function(t){return{p:ue({},t.p,{category:n.props.pathname})}}))},n.handleSubmit=function(t){t.preventDefault(),Promise.all([n.generateId(20),n.generateTimeStamp(),n.setCategory()]).then((function(){var t=n.state.p;n.props.dispatch(Mt({post:t}))})).then((function(){n.setState((function(t){return{currState:t,redirect:!0}}))}))},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props.pathname,n=this.state.redirect,r=this.state.p,o=r.title,c=r.body,i=r.author;return n?a.a.createElement(m.a,{to:"/"}):a.a.createElement(fe,null,a.a.createElement(me,null,"Add post to ",e," category"),a.a.createElement(be,{onSubmit:function(e){return t.handleSubmit(e)}},a.a.createElement(he,null,"Post title",a.a.createElement("input",{type:"text",placeholder:"Post title",value:o,onChange:function(e){return t.handleChangeTitle(e)}})),a.a.createElement(he,null,"Post body",a.a.createElement("textarea",{type:"text",placeholder:"body...",value:c,onChange:function(e){return t.handleChangeBody(e)}})),a.a.createElement(he,null,"Author",a.a.createElement("input",{type:"text",placeholder:"Author",value:i,onChange:function(e){return t.handleChangeAuthor(e)}})),a.a.createElement(he,null,a.a.createElement("input",{type:"submit",value:"submit"}))))}}]),e}(o.Component);var ye=Object(b.b)((function(t,e){return{posts:t.posts,pathname:e.match.params.pathname}}))(ve);function Oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ge(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oe(n,!0).forEach((function(e){Object(ce.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oe(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function je(){var t=Object(r.a)(["\n  color: white;\n"]);return je=function(){return t},t}function xe(){var t=Object(r.a)(["\n  color: white;\n  display: flex;\n  margin: 5px;\n  padding: 0;\n  background: none;\n  border: none;\n"]);return xe=function(){return t},t}function Ee(){var t=Object(r.a)(["\n  display: flex;\n  margin: 5px;\n"]);return Ee=function(){return t},t}function we(){var t=Object(r.a)(["\n  color: white;\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n"]);return we=function(){return t},t}function Se(){var t=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  border: solid 1px white;\n  border-radius: 15px;\n  padding: 20px;\n"]);return Se=function(){return t},t}function Pe(){var t=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return Pe=function(){return t},t}var Ce=h.b.div(Pe()),ke=h.b.form(Se()),De=h.b.label(we()),Ae=h.b.textarea(Ee()),Ie=h.b.input(xe()),Te=h.b.h2(je()),Ve=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).state={comment:{body:"",id:"",parentId:"",author:"",timestamp:null},redirect:!1},n.handleChange=function(t){var e=t.target.value;n.setState((function(t){return{comment:ge({},t.comment,{body:e})}}))},n.handleChangeAuthor=function(t){var e=t.target.value;n.setState((function(t){return{comment:ge({},t.comment,{author:e})}}))},n.generateId=function(t){for(var e="ABCDEFHGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r="",o=0;o<t;o++)r+=e.charAt(Math.floor(Math.random()*e.length));return n.setState((function(t){return{comment:ge({},t.comment,{id:r})}}))},n.generateTimeStamp=function(){n.setState((function(t){return{comment:ge({},t.comment,{timestamp:Date.now()})}}))},n.getParentId=function(){n.setState((function(t){return{comment:ge({},t.comment,{parentId:n.props.pid})}}))},n.handleSubmit=function(t){t.preventDefault(),Promise.all([n.generateId(20),n.generateTimeStamp(),n.getParentId()]).then((function(){var t=n.state.comment;n.props.dispatch(ut({comment:t}))})).then((function(){n.setState((function(t){return{currState:t,redirect:!0}}))}))},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.posts,r=e.pid,o=this.state.comment,c=o.body,i=o.author;return this.state.redirect?a.a.createElement(m.a,{to:"/"}):a.a.createElement(Ce,null,a.a.createElement(Te,null,n[r].title),a.a.createElement(ke,{onSubmit:function(e){return t.handleSubmit(e)}},a.a.createElement(De,null,"Comment Body",a.a.createElement(Ae,{type:"text",placeholder:"comment",value:c,onChange:function(e){return t.handleChange(e)}})),a.a.createElement(De,null,"Comment author",a.a.createElement(Ae,{type:"text",placeholder:"comment",value:i,onChange:function(e){return t.handleChangeAuthor(e)}})),a.a.createElement(De,null,a.a.createElement(Ie,{type:"submit",value:"Submit"}))))}}]),e}(o.Component);var Me=Object(b.b)((function(t,e){var n=t.comments,r=t.posts;return{pid:e.match.params.pid,comments:n,posts:r}}))(Ve);function _e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_e(n,!0).forEach((function(e){Object(ce.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_e(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Be(){var t=Object(r.a)(["\n  color: white;\n  display: flex;\n  margin: 5px;\n  padding: 0;\n  background: none;\n  border: none;\n"]);return Be=function(){return t},t}function Ne(){var t=Object(r.a)(["\n  display: flex;\n  margin: 5px;\n"]);return Ne=function(){return t},t}function Re(){var t=Object(r.a)(["\n  display: flex;\n  padding: 5px;\n  color: white;\n"]);return Re=function(){return t},t}function Le(){var t=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  border: solid 1px white;\n  border-radius: 15px;\n  align-items: center;\n"]);return Le=function(){return t},t}function Ue(){var t=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Ue=function(){return t},t}var Fe=h.b.div(Ue()),Ge=h.b.form(Le()),He=h.b.label(Re()),Je=h.b.textarea(Ne()),qe=h.b.input(Be()),We=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).state={post:{},redirect:!1},n.handleChange=function(t){var e=t.target.value;n.setState((function(t){return{post:ze({},t.post,{body:e})}}))},n.handleSubmit=function(t){t.preventDefault();var e=n.props,r=e.posts,o=e.pid,a=e.dispatch,c=n.state.post;console.log(r[o].body),a(_t({post:c})).then((function(){n.setState((function(t){return{redirect:!0}}))}))},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.pid,n=t.posts;this.setState((function(t){return{currState:t,post:n[e]}}))}},{key:"render",value:function(){var t=this,e=this.state.post.body;return this.state.redirect?a.a.createElement(m.a,{to:"/"}):a.a.createElement(Fe,null,a.a.createElement(Ge,{onSubmit:function(e){return t.handleSubmit(e)}},a.a.createElement(He,null,"Body:",a.a.createElement(Je,{value:e,onChange:function(e){return t.handleChange(e)}})),a.a.createElement(He,null,a.a.createElement(qe,{type:"submit",value:"Submit"}))))}}]),e}(o.Component);var Ke=Object(b.b)((function(t,e){return{posts:t.posts,pid:e.match.params.pid}}))(We);function Qe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qe(n,!0).forEach((function(e){Object(ce.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qe(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ye(){var t=Object(r.a)(["\n  color: white;\n  display: flex;\n  margin: 5px;\n  padding: 0;\n  background: none;\n  border: none;\n"]);return Ye=function(){return t},t}function Ze(){var t=Object(r.a)(["\n  display: flex;\n  margin: 5px;\n"]);return Ze=function(){return t},t}function $e(){var t=Object(r.a)(["\n  display: flex;\n  padding: 5px;\n  color: white;\n"]);return $e=function(){return t},t}function tn(){var t=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  border: solid 1px white;\n  border-radius: 15px;\n  align-items: center;\n"]);return tn=function(){return t},t}function en(){var t=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 15px;\n"]);return en=function(){return t},t}var nn=h.b.div(en()),rn=h.b.form(tn()),on=h.b.label($e()),an=h.b.textarea(Ze()),cn=h.b.input(Ye()),un=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).state={comment:{},redirect:!1},n.handleChange=function(t){var e=t.target.value;n.setState((function(t){return{comment:Xe({},t.comment,{body:e})}}))},n.handleSubmit=function(t){t.preventDefault(),(0,n.props.dispatch)(lt({comment:n.state.comment})).then((function(){n.setState((function(t){return{redirect:!0}}))}))},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.comments,n=t.id;this.setState((function(t){return{currState:t,comment:e[n]}}))}},{key:"render",value:function(){var t=this,e=this.state.comment.body;return this.state.redirect?a.a.createElement(m.a,{to:"/"}):a.a.createElement(nn,null,a.a.createElement(rn,{onSubmit:function(e){return t.handleSubmit(e)}},a.a.createElement(on,null,"Body",a.a.createElement(an,{value:e,onChange:function(e){return t.handleChange(e)}})),a.a.createElement(on,null,a.a.createElement(cn,{type:"submit",value:"Submit"}))))}}]),e}(o.Component);var ln=Object(b.b)((function(t,e){return{comments:t.comments,id:e.match.params.id}}))(un),sn="RECEIVE_CATEGORIES",pn="ADD_CATEGORIES";var dn=n(57),fn=n(26),mn=n(33);function bn(){return function(t){return Promise.all([dn.getAll(),fn.getData(),mn.getData()]).then((function(e){var n,r;t(function(t){var e=t.categories;return{type:sn,categories:e}}(e[0])),t((n=e[1],{type:wt,posts:n})),t((r=e[2],{type:Y,comments:r}))}))}}function hn(){var t=Object(r.a)(["\n  background: rgb(15, 212, 136);\n  height: 100%;\n  display: flex;\n  justify-content: flex-start;\n  padding: 15px;\n"]);return hn=function(){return t},t}var vn=h.b.div(hn()),yn=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return a.a.createElement(vn,null,a.a.createElement(f.c,{to:"/",style:{textDecoration:"none",color:"white"}},"Home"))}}]),e}(o.Component);function On(){var t=Object(r.a)(["\n  html, body {\n    height: 100%;\n    background: rgb(2, 150, 156);\n  }\n"]);return On=function(){return t},t}Object(h.a)(On());var gn=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).state={loading:!0},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.dispatch(bn()).then((function(){t.setState((function(t){return{loading:!1}}))}))}},{key:"render",value:function(){return a.a.createElement(f.a,null,a.a.createElement("div",null,a.a.createElement(m.b,{path:"/",component:yn}),a.a.createElement(m.b,{exact:!0,path:"/",component:N}),a.a.createElement(m.b,{path:"/categoryview/:path",component:X}),a.a.createElement(m.b,{path:"/postview/:pid",component:ae}),a.a.createElement(m.b,{path:"/add/:pathname",component:ye}),a.a.createElement(m.b,{path:"/addcomment/:pid",component:Me}),a.a.createElement(m.b,{path:"/edit/:pid",component:Ke}),a.a.createElement(m.b,{path:"/editcomment/:id",component:ln})))}}]),e}(o.Component),jn=Object(b.b)()(gn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xn=n(18);function En(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?En(n,!0).forEach((function(e){Object(ce.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):En(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sn(n,!0).forEach((function(e){Object(ce.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sn(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Cn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cn(n,!0).forEach((function(e){Object(ce.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cn(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Dn=Object(xn.c)({categories:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case sn:return wn({},t,{},e.categories);case pn:return wn({},t,{},e.category);default:return t}},posts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case wt:return Pn({},e.posts);case St:case Pt:return Pn({},t,Object(ce.a)({},e.post.id,e.post));default:return t}},comments:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Y:return kn({},t,{},e.comments);case Z:case $:return kn({},t,Object(ce.a)({},e.comment.id,e.comment));case tt:return kn({},t);default:return t}}}),An=function(t){return function(e){return function(n){console.group(n.type),console.log("The action:",n);var r=e(n);return console.log("The new state:",t.getState()),console.groupEnd(),r}}},In=n(38),Tn=Object(xn.a)(In.a,An);function Vn(){var t=Object(r.a)(["\n  html, body {\n    min-height: 100%;\n    background: rgb(2, 150, 156);\n    padding: 0;\n    margin:0;\n  }\n"]);return Vn=function(){return t},t}var Mn=Object(h.a)(Vn()),_n=Object(xn.d)(Dn,Tn);i.a.render(a.a.createElement(a.a.Fragment,null,a.a.createElement(b.a,{store:_n},a.a.createElement(jn,null)),a.a.createElement(Mn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.63325c77.chunk.js.map