{"version":3,"sources":["api-server/posts.js","api-server/comments.js","api-server/categories.js","api-server/config.js","components/Post.js","components/Category.js","components/Home.js","components/CategoryView.js","actions/comments.js","components/Comment.js","actions/posts.js","components/PostView.js","components/AddorCreate.js","components/AddComment.js","components/EditPost.js","components/EditComment.js","actions/categories.js","actions/shared.js","components/NavBar.js","App.js","serviceWorker.js","reducers/index.js","reducers/categories.js","reducers/posts.js","reducers/comments.js","middleware/logger.js","middleware/index.js","index.js"],"names":["clone","require","db","defaultData","id","timestamp","title","body","author","category","voteScore","deleted","commentCount","getData","token","data","module","exports","get","Promise","res","posts","getAll","Object","keys","filter","key","map","getByCategory","add","post","vote","option","console","log","disable","edit","prop","incrementCommentCounter","count","parentId","parentDeleted","comments","getByParent","comment","disableByParent","forEach","categories","name","path","port","process","PORT","origin","ORIGIN","PostTitle","styled","h4","Post","this","props","Component","connect","Container","div","LinkDiv","ButtonContainer","Button","button","Header","h1","StyledLink","Link","Category","state","byScore","toggle","setState","currState","capitaliseCategory","string","charAt","toUpperCase","slice","postIndexes","p","onClick","to","sort","a","b","index","postId","Home","PostList","PostContainer","CategoryView","pathname","match","params","RECEIVE_COMMENTS","ADD_COMMENT","EDIT_COMMENT","DELETE_COMMENT","VOTE_COMMENT","commentModule","handleAddComment","dispatch","undefined","then","type","addComment","handleEditComment","editComment","handleDeleteComment","deleteComment","handleCommentVote","voteComment","H3","h3","P","Comment","redirect","handleDelete","handleVote","e","target","value","time","date","Date","RECEIVE_POSTS","ADD_POST","EDIT_POST","DELETE_POST","VOTE_POST","postsModule","handleAddPost","addPost","handleEditPost","editPost","handleDeletePost","pid","handleVotePost","votePost","header","LinkSection","h2","Comments","Body","PostView","preventDefault","handleParentDeleted","postComments","c","location","Form","form","Label","label","AddorCreate","handleChangeTitle","text","handleChangeBody","handleChangeAuthor","generateId","num","char_list","i","Math","floor","random","length","generateTimeStamp","now","setCategory","handleSubmit","all","onSubmit","placeholder","onChange","Textarea","textarea","Input","input","AddComment","handleChange","getParentId","EditPost","EditComment","RECEIVE_CATEGORIES","ADD_CATEGORIES","categoriesModule","commentsModule","handleInitialData","values","receiveCategories","NavBar","style","textDecoration","color","createGlobalStyle","App","loading","component","exact","Boolean","window","hostname","combineReducers","action","logger","store","next","group","returnValue","getState","groupEnd","applyMiddleware","thunk","GlobalStyle","createStore","reducer","middleware","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.63325c77.chunk.js","sourcesContent":["const clone = require('clone')\r\n\r\nlet db = {}\r\n\r\nconst defaultData = {\r\n  \"8xf0y6ziyjabvozdd253nd\": {\r\n    id: '8xf0y6ziyjabvozdd253nd',\r\n    timestamp: 1467166872634,\r\n    title: 'Udacity is the best place to learn React',\r\n    body: 'Everyone says so after all.',\r\n    author: 'thingtwo',\r\n    category: 'react',\r\n    voteScore: 6,\r\n    deleted: false,\r\n    commentCount: 2\r\n  },\r\n  \"6ni6ok3ym7mf1p33lnez\": {\r\n    id: '6ni6ok3ym7mf1p33lnez',\r\n    timestamp: 1468479767190,\r\n    title: 'Learn Redux in 10 minutes!',\r\n    body: 'Just kidding. It takes more than 10 minutes to learn technology.',\r\n    author: 'thingone',\r\n    category: 'redux',\r\n    voteScore: -5,\r\n    deleted: false,\r\n    commentCount: 0\r\n  }\r\n}\r\n\r\nfunction getData (token) {\r\n  let data = db[token]\r\n  if (data == null) {\r\n    data = db[token] = clone(defaultData)\r\n  }\r\n  return data\r\n}\r\n\r\nfunction getByCategory (token, category) {\r\n  return new Promise((res) => {\r\n    let posts = getData(token)\r\n    let keys = Object.keys(posts)\r\n    let filtered_keys = keys.filter(key => posts[key].category === category && !posts[key].deleted)\r\n    res(filtered_keys.map(key => posts[key]))\r\n  })\r\n}\r\n\r\nfunction get (token, id) {\r\n  return new Promise((res) => {\r\n    const posts = getData(token)\r\n    res(\r\n      posts[id].deleted\r\n        ? {}\r\n        : posts[id]\r\n    )\r\n  })\r\n}\r\n\r\nfunction getAll (token) {\r\n  return new Promise((res) => {\r\n    const posts = getData(token)\r\n    let keys = Object.keys(posts)\r\n    let filtered_keys = keys.filter(key => !posts[key].deleted)\r\n    res(filtered_keys.map(key => posts[key]))\r\n  })\r\n}\r\n\r\nfunction add (token, post) {\r\n  return new Promise((res) => {\r\n    let posts = getData(token)\r\n\r\n    posts[post.id] = {\r\n      id: post.id,\r\n      timestamp: post.timestamp,\r\n      title: post.title,\r\n      body: post.body,\r\n      author: post.author,\r\n      category: post.category,\r\n      voteScore: 1,\r\n      deleted: false,\r\n      commentCount: 0\r\n    }\r\n\r\n    res(posts[post.id])\r\n  })\r\n}\r\n\r\nfunction vote (token, id, option) {\r\n  return new Promise((res) => {\r\n    let posts = getData(token)\r\n    const post = posts[id]\r\n    switch(option) {\r\n        case \"upVote\":\r\n            post.voteScore = post.voteScore + 1\r\n            break\r\n        case \"downVote\":\r\n            post.voteScore = post.voteScore - 1\r\n            break\r\n        default:\r\n            console.log(`posts.vote received incorrect parameter: ${option}`)\r\n    }\r\n    res(post)\r\n  })\r\n}\r\n\r\nfunction disable (token, id) {\r\n    return new Promise((res) => {\r\n      let posts = getData(token)\r\n      posts[id].deleted = true\r\n      res(posts[id])\r\n    })\r\n}\r\n\r\nfunction edit (token, id, post) {\r\n    return new Promise((res) => {\r\n        let posts = getData(token)\r\n        for (let prop in post) {\r\n            posts[id][prop] = post[prop]\r\n        }\r\n        res(posts[id])\r\n    })\r\n}\r\n\r\nfunction incrementCommentCounter(token, id, count) {\r\n  const data = getData(token)\r\n  if (data[id]) {\r\n    data[id].commentCount += count\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  get,\r\n  getData,\r\n  getAll,\r\n  getByCategory,\r\n  add,\r\n  vote,\r\n  disable,\r\n  edit,\r\n  incrementCommentCounter\r\n}\r\n","const clone = require('clone')\r\nconst posts = require('./posts')\r\n\r\nlet db = {}\r\n\r\nconst defaultData = {\r\n  \"894tuq4ut84ut8v4t8wun89g\": {\r\n    id: '894tuq4ut84ut8v4t8wun89g',\r\n    parentId: \"8xf0y6ziyjabvozdd253nd\",\r\n    timestamp: 1468166872634,\r\n    body: 'Hi there! I am a COMMENT.',\r\n    author: 'thingtwo',\r\n    voteScore: 6,\r\n    deleted: false,\r\n    parentDeleted: false\r\n  },\r\n  \"8tu4bsun805n8un48ve89\": {\r\n    id: '8tu4bsun805n8un48ve89',\r\n    parentId: \"8xf0y6ziyjabvozdd253nd\",\r\n    timestamp: 1469479767190,\r\n    body: 'Comments. Are. Cool.',\r\n    author: 'thingone',\r\n    voteScore: -5,\r\n    deleted: false,\r\n    parentDeleted: false\r\n  }\r\n}\r\n\r\nfunction getData (token) {\r\n  let data = db[token]\r\n  if (data == null) {\r\n    data = db[token] = clone(defaultData)\r\n  }\r\n  return data\r\n}\r\n\r\nfunction getByParent (token, parentId) {\r\n  return new Promise((res) => {\r\n    let comments = getData(token)\r\n    let keys = Object.keys(comments)\r\n    const filtered_keys = keys.filter(key => comments[key].parentId === parentId && !comments[key].deleted)\r\n    res(filtered_keys.map(key => comments[key]))\r\n  })\r\n}\r\n\r\nfunction get (token, id) {\r\n  return new Promise((res) => {\r\n    const comments = getData(token)\r\n    res(\r\n      comments[id].deleted || comments[id].parentDeleted\r\n        ? {}\r\n        : comments[id]\r\n      )\r\n  })\r\n}\r\n\r\nfunction add (token, comment) {\r\n  console.log(comment)\r\n  return new Promise((res) => {\r\n    let comments = getData(token)\r\n\r\n    comments[comment.id] = {\r\n      id: comment.id,\r\n      timestamp: comment.timestamp,\r\n      body: comment.body,\r\n      author: comment.author,\r\n      parentId: comment.parentId,\r\n      voteScore: 1,\r\n      deleted: false,\r\n      parentDeleted: false\r\n    }\r\n\r\n    posts.incrementCommentCounter(token, comment.parentId, 1)\r\n    res(comments[comment.id])\r\n  })\r\n}\r\n\r\nfunction vote (token, id, option) {\r\n  return new Promise((res) => {\r\n    let comments = getData(token)\r\n    const comment = comments[id]\r\n    switch(option) {\r\n        case \"upVote\":\r\n            comment.voteScore = comment.voteScore + 1\r\n            break\r\n        case \"downVote\":\r\n            comment.voteScore = comment.voteScore - 1\r\n            break\r\n        default:\r\n            console.log(`comments.vote received incorrect parameter: ${option}`)\r\n    }\r\n    res(comment)\r\n  })\r\n}\r\n\r\nfunction disableByParent (token, post) {\r\n    console.log(post)\r\n    return new Promise((res) => {\r\n        let comments = getData(token)\r\n        const keys = Object.keys(comments)\r\n        const filtered_keys = keys.filter(key => comments[key].parentId === post.id)\r\n        filtered_keys.forEach(key => comments[key].parentDeleted = true)\r\n        res(post)\r\n    })\r\n}\r\n\r\nfunction disable (token, id) {\r\n    return new Promise((res) => {\r\n      let comments = getData(token)\r\n      comments[id].deleted = true\r\n      posts.incrementCommentCounter(token, comments[id].parentId, -1)\r\n      res(comments[id])\r\n    })\r\n}\r\n\r\nfunction edit (token, id, comment) {\r\n    return new Promise((res) => {\r\n        let comments = getData(token)\r\n        for (let prop in comment) {\r\n            comments[id][prop] = comment[prop]\r\n        }\r\n        res(comments[id])\r\n    })\r\n}\r\n\r\nmodule.exports = {\r\n  getData,\r\n  get,\r\n  getByParent,\r\n  add,\r\n  vote,\r\n  disableByParent,\r\n  disable,\r\n  edit\r\n}\r\n","const clone = require('clone')\r\nconst config = require('./config')\r\n\r\nlet db = {}\r\n\r\nconst defaultData = {\r\n  categories: [\r\n      {\r\n        name: 'react',\r\n        path: 'react'\r\n      },\r\n      {\r\n        name: 'redux',\r\n        path: 'redux'\r\n      },\r\n      {\r\n        name: 'udacity',\r\n        path: 'udacity'\r\n      }\r\n  ]\r\n}\r\n\r\nfunction getData (token) {\r\n  //Each token has it's own copy of the DB. The token in this case is like an app id.\r\n  let data = db[token]\r\n  //This populates the default user data if there isn't any in the db.\r\n  if (data == null) {\r\n    data = db[token] = clone(defaultData)\r\n  }\r\n  return data\r\n}\r\n\r\nfunction getAll (token) {\r\n  return new Promise((res) => {\r\n    res(getData(token))\r\n  })\r\n}\r\n\r\nmodule.exports = {\r\n  getAll\r\n}\r\n","exports.port = process.env.PORT || 3001\r\nexports.origin = process.env.ORIGIN || `http://localhost:${exports.port}`\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport styled from 'styled-components'\r\n\r\nconst PostTitle= styled.h4`\r\n  color: white;\r\n`\r\n\r\nclass Post extends Component {\r\n  render() {\r\n\r\n    const { data }= this.props\r\n      return (\r\n      <div>\r\n        <PostTitle>\r\n          { data.title}\r\n        </PostTitle>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ posts }, props) {\r\n  return {\r\n    posts,\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(Post)\r\n","import React, { Component } from 'react'\r\nimport Post from './Post'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport styled from 'styled-components'\r\n\r\n\r\nconst Container= styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 80%;\r\n  margin-top: 5px;\r\n  margin-bottom: 5px;\r\n  background: rgb(2, 150, 156);\r\n  max-height: 33%;\r\n  border: solid 2px white;\r\n  border-radius: 15px;\r\n  box-shadow: 3px 3px #023133;\r\n\r\n`\r\nconst LinkDiv= styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  align-items: flex-start;\r\n  margin-left: 10px;\r\n`\r\nconst ButtonContainer= styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  margin: 5px;\r\n  justify-content: space-around;\r\n`\r\n\r\nconst Button= styled.button`\r\n  border: none;\r\n  padding: 0;\r\n  background: 0;\r\n  color: white;\r\n`\r\n\r\nconst Header= styled.h1`\r\n  color: white;\r\n  width: 15%;\r\n  text-align: center;\r\n  font-size: 18px;\r\n  background: rgb(2, 150, 156);\r\n  margin-top: 10px;\r\n`\r\nconst StyledLink= styled(Link)`\r\n  background: rgb(2, 150, 156);\r\n  color: white;\r\n  margin: 1px;\r\n  text-decoration: none;\r\n`\r\nclass Category extends Component {\r\n  state= {\r\n    byScore:true,\r\n\r\n  }\r\n\r\n  toggle=()=> {\r\n    if( this.state.byScore) {\r\n    this.setState(currState=> ({\r\n      currState,\r\n      byScore: false,\r\n    }))\r\n  } else {\r\n    this.setState(currState=> ({\r\n      currState,\r\n      byScore: true,\r\n    }))\r\n  }\r\n  }\r\n\r\n  capitaliseCategory=(string)=> {\r\n    return string.charAt(0).toUpperCase() + string.slice(1)\r\n  }\r\n  render() {\r\n\r\n    const { name, posts }= this.props\r\n    const { byScore }= this.state\r\n\r\n    const postIndexes= Object.keys(posts).filter((p)=> {\r\n      return (\r\n        posts[p].category === name && posts[p].deleted !== true\r\n      )\r\n    })\r\n\r\n    return (\r\n      <Container>\r\n        <Header>\r\n          { this.capitaliseCategory(name) }\r\n        </Header>\r\n        <LinkDiv>\r\n          <Button onClick={ this.toggle }>\r\n          { byScore ? 'Filter by Time' : 'Filter by Score' }\r\n          </Button>\r\n        </LinkDiv>\r\n        <ButtonContainer>\r\n          <StyledLink to={`/categoryview/${this.props.path}`}>\r\n              View Category\r\n          </StyledLink>\r\n          <StyledLink to={`/add/${ name }`}>\r\n            Add Post\r\n          </StyledLink>\r\n        </ButtonContainer>\r\n        <div>\r\n          { byScore ?\r\n            postIndexes.sort(function(a,b) {\r\n              return posts[b].voteScore -posts[a].voteScore\r\n            }).map((index)=> {\r\n              const postId= posts[index].id\r\n                return <Post key={ postId } data={ posts[index] } />\r\n            })  :\r\n            postIndexes.sort(function(a,b) {\r\n              return posts[b].timestamp -posts[a].timestamp\r\n            }).map((index)=> {\r\n                const postId= posts[index].id\r\n                return <Post key={ postId } data={ posts[index]} />\r\n            })}\r\n        </div>\r\n\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ posts }, props) {\r\n  return {\r\n    posts,\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(Category)\r\n","import React, { Component } from 'react'\r\nimport Category from './Category'\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components'\r\n\r\nconst Container= styled.div`\r\n  background: rgb(2, 150, 156);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`\r\n\r\nclass Home extends Component {\r\n\r\n  render() {\r\n    const { categories } = this.props\r\n    return (\r\n      <Container>\r\n      { Object.keys(categories).map((category)=> {\r\n        return(\r\n          <Category\r\n            key={categories[category].name}\r\n            name={categories[category].name}\r\n            path={categories[category].path}\r\n          />\r\n        )\r\n      })\r\n     }\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ categories }) {\r\n  return {\r\n    categories,\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(Home)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Post from './Post'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\n\r\n\r\nconst Container= styled.div`\r\n  background: rgb(2, 150, 156);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`\r\nconst Header= styled.h1`\r\n  color: white;\r\n`\r\n\r\nconst Button= styled.button`\r\n  border: none;\r\n  padding: 0;\r\n  background: 0;\r\n  color: white;\r\n`\r\n\r\nconst PostList= styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  margin-top: 10px;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`\r\nconst PostContainer= styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  border: solid 2px white;\r\n  border-radius: 15px;\r\n  box-shadow: 3px 3px #023133;\r\n  width: 80%;\r\n  margin-top: 20px;\r\n`\r\nclass CategoryView extends Component {\r\n\r\n  capitaliseCategory=(path)=> {\r\n    return path.charAt(0).toUpperCase() + path.slice(1)\r\n  }\r\n  render() {\r\n    const { path, posts }= this.props\r\n\r\n    const postIndexes= Object.keys(posts).filter((p)=> {\r\n      return (\r\n        posts[p].category === path && posts[p].deleted !== true\r\n      )\r\n    })\r\n\r\n    return (\r\n      <Container>\r\n        <Header>\r\n          { this.capitaliseCategory(path) }\r\n        </Header>\r\n        <Button>\r\n          Filter Posts\r\n        </Button>\r\n        <PostList>\r\n          { postIndexes.map((index)=> {\r\n            const postId= posts[index].id\r\n             return (\r\n               <PostContainer key={postId}>\r\n                <Post key={postId} data={posts[index]}/>\r\n                <Link to={{\r\n                  pathname: `/postview/${posts[index].id}`,\r\n                  state: { index: index}}\r\n                  }>\r\n                <Button>View Post</Button>\r\n                </Link>\r\n               </PostContainer>\r\n             )\r\n           })}\r\n        </PostList>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\nfunction mapStateToProps({ categories, posts }, props) {\r\n  const { path }= props.match.params\r\n  console.log(path)\r\n  return {\r\n    path,\r\n    categories,\r\n    posts,\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(CategoryView)\r\n","export const RECEIVE_COMMENTS = 'RECEIVE_COMMENTS'\r\nexport const ADD_COMMENT = 'ADD_COMMENT'\r\nexport const EDIT_COMMENT= 'EDIT_COMMENT'\r\nexport const DELETE_COMMENT= 'DELETE_COMMENT'\r\nexport const VOTE_COMMENT= 'VOTE_COMMENT'\r\n\r\nconst commentModule= require('../api-server/comments')\r\nconst { add, edit, disableByParent, disable, vote }= commentModule\r\n\r\nexport function receiveComments(comments) {\r\n  return {\r\n    type: RECEIVE_COMMENTS,\r\n    comments,\r\n  }\r\n}\r\n\r\nfunction addComment(comment) {\r\n  return {\r\n    type: ADD_COMMENT,\r\n    comment,\r\n  }\r\n}\r\n\r\nfunction editComment(comment) {\r\n  return {\r\n    type: EDIT_COMMENT,\r\n    comment,\r\n  }\r\n}\r\n\r\nfunction deleteComment(comment) {\r\n  return {\r\n    type: DELETE_COMMENT,\r\n    comment,\r\n  }\r\n}\r\n\r\nfunction voteComment(comment) {\r\n  return {\r\n    type: VOTE_COMMENT,\r\n    comment,\r\n  }\r\n}\r\n\r\nexport function handleAddComment({comment}) {\r\n  return dispatch => {\r\n    return add(undefined, comment)\r\n    .then(comment=> {\r\n      dispatch(addComment(comment))\r\n    })\r\n  }\r\n}\r\n\r\nexport function handleEditComment ({comment}) {\r\n  return dispatch => {\r\n    return edit(undefined, comment.id, comment)\r\n    .then(comment=> {\r\n      dispatch(editComment(comment))\r\n    })\r\n  }\r\n}\r\n\r\nexport function handleDeleteComment ({comment}) {\r\n  return dispatch => {\r\n    return disable(undefined, comment.id)\r\n    .then(comment=> {\r\n      dispatch(deleteComment(comment.id))\r\n    })\r\n  }\r\n}\r\nexport function handleParentDeleted({post}) {\r\n  return dispatch => {\r\n    return disableByParent(undefined, post)\r\n  }\r\n}\r\n\r\nexport function handleCommentVote({comment}, option) {\r\n  return dispatch => {\r\n    return vote (undefined, comment.id, option)\r\n    .then((comment)=> {\r\n      dispatch(voteComment(comment))\r\n    })\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { handleDeleteComment, handleCommentVote } from '../actions/comments'\r\nimport styled from 'styled-components'\r\n\r\nconst Container= styled.div`\r\n  align-items: center;\r\n  border: solid 2px white;\r\n  border-radius: 15px;\r\n  box-shadow: 3px 3px #023133;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 10px;\r\n`\r\nconst StyledLink= styled(Link)`\r\n  color: white;\r\n  margin: 10px;\r\n  padding: none;\r\n  text-decoration: none;\r\n`\r\n\r\nconst Button= styled.button`\r\n  border: none;\r\n  padding: 0;\r\n  background: 0;\r\n  color: white;\r\n  font-size: 18px;\r\n  margin: 5px;\r\n`\r\n\r\nconst H3= styled.h3`\r\n  color: white;\r\n`\r\n\r\nconst P= styled.p`\r\n  border: solid 2px white;\r\n  box-shadow: 3px 3px #023133;\r\n  border-radius: 15px;\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 50%;\r\n  color: white;\r\n  flex:1;\r\n  padding: 5px;\r\n`\r\nclass Comment extends Component {\r\n\r\n  state={\r\n    redirect: false,\r\n  }\r\n\r\n  handleDelete=()=> {\r\n    const { dispatch, comments, id }= this.props\r\n    const comment= comments[id]\r\n    dispatch(handleDeleteComment({comment}))\r\n  }\r\n\r\n  handleVote=(e)=> {\r\n    const option= e.target.value\r\n    const { dispatch, comments, id }= this.props\r\n    const comment= comments[id]\r\n    dispatch(handleCommentVote({comment}, option))\r\n    .then(()=> {\r\n      this.setState(currState => ({\r\n        redirect: true,\r\n      }))\r\n    })\r\n  }\r\n  render() {\r\n    const { comments, id }= this.props\r\n    const time= comments[id].timestamp\r\n    const date= new Date(time)\r\n  if (this.state.redirect) {\r\n    return <Redirect to='/'/>\r\n  }\r\n    return (\r\n      <Container>\r\n      <header>\r\n        <StyledLink to={`/editcomment/${id}`}>\r\n            Edit comment\r\n        </StyledLink>\r\n        <Button onClick={ this.handleDelete }>\r\n          Delete comment\r\n        </Button>\r\n        <Button\r\n          value='upVote'\r\n          onClick={(e)=> this.handleVote(e) }>\r\n          +\r\n        </Button>\r\n        <Button\r\n          value='downVote'\r\n          onClick={(e)=> this.handleVote(e) }>\r\n          -\r\n        </Button>\r\n      </header>\r\n        <H3>\r\n          Author: { comments[id].author}\r\n        </H3>\r\n        <P>\r\n        Date: {`${date}`}\r\n        </P>\r\n        <P>\r\n          { comments[id].body }\r\n        </P>\r\n        <P>\r\n          { `Vote Score: ${comments[id].voteScore}` }\r\n        </P>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ comments }, props) {\r\n  return {\r\n    comments,\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(Comment)\r\n","export const RECEIVE_POSTS = 'RECEIVE_POSTS'\r\nexport const ADD_POST = 'ADD_POST'\r\nexport const EDIT_POST= 'EDIT_POST'\r\nexport const DELETE_POST= 'DELETE_POST'\r\nexport const VOTE_POST= 'VOTE_POST'\r\n\r\nconst postsModule= require('../api-server/posts')\r\nconst { add, edit, disable, vote }= postsModule\r\n\r\nexport function receivePosts(posts) {\r\n  return {\r\n    type: RECEIVE_POSTS,\r\n    posts,\r\n  }\r\n}\r\n\r\nfunction addPost(post) {\r\n  return {\r\n    type: ADD_POST,\r\n    post,\r\n  }\r\n}\r\n\r\nfunction editPost(post) {\r\n  return{\r\n    type: EDIT_POST,\r\n    post,\r\n  }\r\n}\r\n\r\nfunction deletePost(post) {\r\n  return{\r\n    type: DELETE_POST,\r\n    post,\r\n  }\r\n}\r\n\r\nfunction votePost(post) {\r\n  return {\r\n    type: VOTE_POST,\r\n    post,\r\n  }\r\n}\r\n\r\nexport function handleAddPost({post}) {\r\n  return dispatch => {\r\n    return add(undefined,post)\r\n    .then(post=> {\r\n    dispatch(addPost(post))\r\n    })\r\n  }\r\n}\r\n\r\nexport function handleEditPost({post}) {\r\n  return dispatch => {\r\n    return edit(undefined, post.id, post)\r\n    .then(post=> {\r\n      dispatch(editPost(post))\r\n    })\r\n  }\r\n}\r\n\r\nexport function handleDeletePost(pid) {\r\n  return dispatch=> {\r\n    return disable(undefined, pid)\r\n    .then(pid=> {\r\n      dispatch(deletePost(pid))\r\n    })\r\n  }\r\n}\r\n\r\nexport function handleVotePost({post}, option) {\r\n  return dispatch => {\r\n    return vote(undefined, post.id, option)\r\n    .then(()=> {\r\n      dispatch(votePost(post))\r\n    })\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Comment from './Comment'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { handleDeletePost, handleVotePost } from '../actions/posts'\r\nimport { handleParentDeleted } from '../actions/comments'\r\nimport styled from 'styled-components'\r\n\r\nconst Container= styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  border: solid white 1px;\r\n  border-radius: 15px;\r\n`\r\n\r\nconst Header= styled.header`\r\n  display: flex;\r\n  justify-contetn: center;\r\n  flex-direction: column;\r\n`\r\nconst Button= styled.button`\r\n  border: none;\r\n  padding: 0;\r\n  background: 0;\r\n  color: white;\r\n  font-size: 18px;\r\n  margin: 5px;\r\n`\r\nconst StyledLink= styled(Link)`\r\n  background: rgb(2, 150, 156);\r\n  color: white;\r\n  margin: 1px;\r\n  text-decoration: none;\r\n`\r\nconst LinkSection= styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  width: 100%;\r\n`\r\nconst PostTitle= styled.h2`\r\n  color: white;\r\n`\r\n\r\nconst H3= styled.h3`\r\n  color: white;\r\n`\r\nconst P= styled.p`\r\n  border: solid 2px white;\r\n  box-shadow: 3px 3px #023133;\r\n  border-radius: 15px;\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 50%;\r\n  color: white;\r\n  flex:1;\r\n  padding: 5px;\r\n`\r\nconst Comments= styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`\r\nconst Body= styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  width: 60%;\r\n`\r\nclass PostView extends Component {\r\n\r\n  state={\r\n    redirect: false,\r\n  }\r\n\r\n  handleDelete=(e)=> {\r\n    e.preventDefault()\r\n    const { dispatch, pid, posts }= this.props\r\n    const post= posts[pid]\r\n\r\n    dispatch(handleDeletePost(pid))\r\n    dispatch(handleParentDeleted({post}))\r\n    .then(()=> {\r\n      this.setState(currState=> ({\r\n        currState,\r\n        redirect: true,\r\n      }))\r\n    })\r\n  }\r\n\r\n  handleVote=(e)=> {\r\n    const option= e.target.value\r\n    const { dispatch, posts, pid }= this.props\r\n    const post= posts[pid]\r\n    dispatch(handleVotePost({post}, option))\r\n    .then(()=> {\r\n      this.setState(currState=> ({\r\n        currState,\r\n        redirect: true,\r\n      }))\r\n    })\r\n  }\r\n  render() {\r\n    const { posts, pid, index, comments }= this.props\r\n    const time= posts[index].timestamp\r\n    const date= new Date(time)\r\n    const postComments= Object.keys(comments).filter(c=> {\r\n      return (\r\n        comments[c].parentId === pid && comments[c].deleted === false\r\n      )\r\n    })\r\n\r\n    if(this.state.redirect) {\r\n      return <Redirect to='/'/>\r\n    }\r\n    return (\r\n      <Container>\r\n        <PostTitle>\r\n          {posts[index].title}\r\n        </PostTitle>\r\n      <Header>\r\n        <H3> Author: {posts[index].author}</H3>\r\n        <H3> Date: { `${date}` }</H3>\r\n        <H3>\r\n        Score: {posts[index].voteScore}\r\n        </H3>\r\n      </Header>\r\n      <LinkSection>\r\n        <StyledLink to={{\r\n           pathname: `/addcomment/${ pid }`,\r\n           state: {index: index},\r\n         }}\r\n          >\r\n          Add Comment\r\n        </StyledLink>\r\n        <StyledLink to={`/edit/${ pid }`}>\r\n          Edit Post\r\n        </StyledLink>\r\n        <Button onClick={(e)=> this.handleDelete(e)}>\r\n          Delete\r\n        </Button>\r\n      </LinkSection>\r\n      <Body>\r\n        <P>{posts[index].body}</P>\r\n        <Button\r\n          value='upVote'\r\n          onClick={ (e)=> this.handleVote(e) }>\r\n          +\r\n        </Button>\r\n        <Button\r\n          value='downVote'\r\n          onClick={ (e)=> this.handleVote(e) }>\r\n          -\r\n        </Button>\r\n      </Body>\r\n      <Comments>\r\n        { postComments.map(comment=> {\r\n          return <Comment\r\n            key={ comments[comment].id }\r\n            id={ comments[comment].id}\r\n        />\r\n        })}\r\n      </Comments>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ posts, comments }, props) {\r\n  const { pid }= props.match.params\r\n  const { index }= props.location.state\r\n  return {\r\n    index,\r\n    pid,\r\n    posts,\r\n    comments,\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(PostView)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { handleAddPost } from '../actions/posts'\r\nimport { Redirect } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\n\r\nconst Container= styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  border: solid white 1px;\r\n  border-radius: 15px;\r\n`\r\n\r\nconst Header= styled.h2`\r\n  color: white;\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nconst Form= styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  border: solid 1px white;\r\n  border-radius: 15px;\r\n  padding: 20px;\r\n`\r\nconst Label= styled.label`\r\n  color: white;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 10px;\r\n`\r\nclass AddorCreate extends Component {\r\n  state= {\r\n    p: {\r\n      id: '',\r\n      title:'',\r\n      body:'',\r\n      timestamp: null,\r\n      author:'',\r\n      category:'',\r\n    },\r\n    redirect: false,\r\n  }\r\n\r\n  handleChangeTitle=(e)=> {\r\n    const text= e.target.value\r\n    this.setState((currState)=> ({\r\n      p: {\r\n      ...currState.p,\r\n      title: text,\r\n    }\r\n    }))\r\n  }\r\n\r\n  handleChangeBody=(e)=> {\r\n    const text= e.target.value\r\n    this.setState((currState)=> ({\r\n      p: {\r\n      ...currState.p,\r\n      body: text,\r\n    }\r\n    }))\r\n  }\r\n\r\n  handleChangeAuthor=(e)=> {\r\n    const text= e.target.value\r\n    this.setState((currState)=> ({\r\n      p: {\r\n      ...currState.p,\r\n      author: text,\r\n    }\r\n    }))\r\n  }\r\n\r\n  generateId=(num)=> {\r\n    let string= ''\r\n    const char_list= 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for(let i=0; i < num; i++ ) {\r\n      string += char_list.charAt(Math.floor(Math.random() * char_list.length))\r\n    }\r\n    return this.setState((currState)=>({\r\n      p: {\r\n      ...currState.p,\r\n      id: string,\r\n    }\r\n    }))\r\n  }\r\n\r\n  generateTimeStamp=()=> {\r\n    this.setState((currState)=> ({\r\n      p: {\r\n      ...currState.p,\r\n      timestamp: Date.now()\r\n    }\r\n    }))\r\n  }\r\n\r\n setCategory=()=> {\r\n   this.setState((currState)=> ({\r\n     p: {\r\n     ...currState.p,\r\n     category: this.props.pathname,\r\n   }\r\n   }))\r\n }\r\n\r\n  handleSubmit=(e)=> {\r\n    e.preventDefault()\r\n    Promise.all([this.generateId(20), this.generateTimeStamp(),this.setCategory()])\r\n    .then(()=> { const post= this.state.p\r\n      this.props.dispatch(handleAddPost({post}))\r\n    })\r\n    .then(()=> {\r\n      this.setState(currState=> ({\r\n        currState,\r\n        redirect: true,\r\n      }))\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n    const { pathname }= this.props\r\n    const { redirect }= this.state\r\n    const { title, body, author }= this.state.p\r\n\r\n    if (redirect) {\r\n      return <Redirect to='/'/>\r\n    }\r\n    return (\r\n      <Container>\r\n        <Header>\r\n        Add post to { pathname } category\r\n        </Header>\r\n        <Form onSubmit={ (e)=> this.handleSubmit(e) }>\r\n          <Label>\r\n          Post title\r\n          <input\r\n            type='text'\r\n            placeholder='Post title'\r\n            value={ title }\r\n            onChange={ (e)=>this.handleChangeTitle(e) }\r\n          />\r\n          </Label>\r\n          <Label>\r\n            Post body\r\n            <textarea\r\n              type='text'\r\n              placeholder='body...'\r\n              value={ body }\r\n              onChange={ (e)=> this.handleChangeBody(e) }\r\n            />\r\n          </Label>\r\n          <Label>\r\n            Author\r\n            <input\r\n              type='text'\r\n              placeholder='Author'\r\n              value={ author }\r\n              onChange={ (e)=> this.handleChangeAuthor(e) }\r\n            />\r\n          </Label>\r\n          <Label>\r\n            <input\r\n              type='submit'\r\n              value='submit'\r\n            />\r\n          </Label>\r\n        </Form>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ posts }, props) {\r\n  const { pathname }= props.match.params\r\n  return {\r\n    posts,\r\n    pathname\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AddorCreate)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { handleAddComment } from '../actions/comments'\r\nimport styled from 'styled-components'\r\n\r\nconst Container= styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`\r\nconst Form= styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  border: solid 1px white;\r\n  border-radius: 15px;\r\n  padding: 20px;\r\n`\r\nconst Label= styled.label`\r\n  color: white;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 10px;\r\n`\r\nconst Textarea= styled.textarea`\r\n  display: flex;\r\n  margin: 5px;\r\n`\r\nconst Input= styled.input`\r\n  color: white;\r\n  display: flex;\r\n  margin: 5px;\r\n  padding: 0;\r\n  background: none;\r\n  border: none;\r\n`\r\nconst Header= styled.h2`\r\n  color: white;\r\n`\r\nclass AddComment extends Component {\r\n  state= {\r\n    comment:{\r\n      body: '',\r\n      id: '',\r\n      parentId:'',\r\n      author:'',\r\n      timestamp: null,\r\n    },\r\n    redirect: false,\r\n  }\r\n  handleChange=(e)=> {\r\n    const text= e.target.value\r\n    this.setState(currState=> ({\r\n      comment: {\r\n        ...currState.comment,\r\n        body: text\r\n      }\r\n    }))\r\n  }\r\n\r\n  handleChangeAuthor=(e)=> {\r\n    const text= e.target.value\r\n    this.setState(currState=> ({\r\n      comment: {\r\n        ...currState.comment,\r\n        author: text,\r\n      }\r\n    }))\r\n  }\r\n\r\n  generateId=(num)=> {\r\n    const char_list= 'ABCDEFHGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    let string=''\r\n    for( let i= 0; i < num; i++) {\r\n      string += char_list.charAt(Math.floor(Math.random()* char_list.length))\r\n   }\r\n   return this.setState(currState => ({\r\n     comment: {\r\n       ...currState.comment,\r\n       id: string,\r\n     }\r\n   }))\r\n  }\r\n  generateTimeStamp=()=> {\r\n    this.setState(currState => ({\r\n      comment: {\r\n        ...currState.comment,\r\n        timestamp: Date.now()\r\n      }\r\n    }))\r\n  }\r\n  getParentId=()=> {\r\n    this.setState(currState=> ({\r\n      comment: {\r\n        ...currState.comment,\r\n        parentId: this.props.pid\r\n      }\r\n    }))\r\n  }\r\n\r\n  handleSubmit=(e)=> {\r\n    e.preventDefault()\r\n\r\n    Promise.all([this.generateId(20), this.generateTimeStamp(), this.getParentId()])\r\n    .then(()=> { const comment= this.state.comment\r\n      this.props.dispatch(handleAddComment({comment}))\r\n    })\r\n    .then(()=> {\r\n      this.setState(currState=> ({\r\n        currState,\r\n        redirect: true,\r\n      }))\r\n    })\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { posts, pid }= this.props\r\n    const { body, author }= this.state.comment\r\n    const { redirect }= this.state\r\n\r\n    if (redirect) {\r\n      return <Redirect to='/'/>\r\n    }\r\n    return (\r\n      <Container>\r\n      <Header>{ posts[pid].title }</Header>\r\n        <Form  onSubmit={ (e)=>this.handleSubmit(e) }>\r\n          <Label>\r\n          Comment Body\r\n            <Textarea\r\n              type='text'\r\n              placeholder='comment'\r\n              value={ body }\r\n              onChange={(e)=> this.handleChange(e) }\r\n              />\r\n          </Label>\r\n          <Label>\r\n            Comment author\r\n            <Textarea\r\n              type='text'\r\n              placeholder='comment'\r\n              value={ author }\r\n              onChange={(e)=> this.handleChangeAuthor(e)}\r\n            />\r\n          </Label>\r\n          <Label>\r\n            <Input\r\n              type='submit'\r\n              value='Submit'\r\n            />\r\n          </Label>\r\n        </Form>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ comments, posts }, props) {\r\n  const { pid }= props.match.params\r\n  return {\r\n    pid,\r\n    comments,\r\n    posts,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AddComment)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { handleEditPost } from '../actions/posts'\r\nimport { Redirect } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\n\r\nconst Container= styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst Form= styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  border: solid 1px white;\r\n  border-radius: 15px;\r\n  align-items: center;\r\n`\r\n\r\nconst Label= styled.label`\r\n  display: flex;\r\n  padding: 5px;\r\n  color: white;\r\n`\r\nconst Textarea= styled.textarea`\r\n  display: flex;\r\n  margin: 5px;\r\n`\r\nconst Input= styled.input`\r\n  color: white;\r\n  display: flex;\r\n  margin: 5px;\r\n  padding: 0;\r\n  background: none;\r\n  border: none;\r\n`\r\nclass EditPost extends Component {\r\n  state={\r\n    post:{},\r\n    redirect: false,\r\n  }\r\n\r\n  handleChange=(e)=> {\r\n    const text= e.target.value\r\n    this.setState(currState=> ({\r\n      post: {\r\n        ...currState.post,\r\n        body:text,\r\n      }\r\n    }))\r\n  }\r\n\r\n  handleSubmit=(e)=> {\r\n    e.preventDefault()\r\n    const { posts, pid, dispatch }= this.props\r\n    const { post }= this.state\r\n    console.log(posts[pid].body )\r\n\r\n    dispatch(handleEditPost({post}))\r\n    .then(()=> {\r\n      this.setState(currState=> ({\r\n        redirect: true,\r\n      }))\r\n    })\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    const { pid, posts }= this.props\r\n    this.setState(currState=> ({\r\n      currState,\r\n      post: posts[pid]\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    const { body }= this.state.post\r\n    if (this.state.redirect) {\r\n      return <Redirect to='/'/>\r\n    }\r\n    return (\r\n      <Container>\r\n        <Form onSubmit={(e)=> this.handleSubmit(e)}>\r\n          <Label>\r\n            Body:\r\n            <Textarea\r\n              value={ body }\r\n              onChange={ (e)=> this.handleChange(e) }/>\r\n            </Label>\r\n            <Label>\r\n              <Input\r\n                type='submit'\r\n                value='Submit'\r\n              />\r\n            </Label>\r\n        </Form>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ posts }, props) {\r\n  const { pid }= props.match.params\r\n  return {\r\n    posts,\r\n    pid,\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(EditPost)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { handleEditComment } from '../actions/comments'\r\nimport styled from 'styled-components'\r\n\r\nconst Container= styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 15px;\r\n`\r\n\r\nconst Form= styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  border: solid 1px white;\r\n  border-radius: 15px;\r\n  align-items: center;\r\n`\r\n\r\nconst Label= styled.label`\r\n  display: flex;\r\n  padding: 5px;\r\n  color: white;\r\n`\r\nconst Textarea= styled.textarea`\r\n  display: flex;\r\n  margin: 5px;\r\n`\r\nconst Input= styled.input`\r\n  color: white;\r\n  display: flex;\r\n  margin: 5px;\r\n  padding: 0;\r\n  background: none;\r\n  border: none;\r\n`\r\n\r\nclass EditComment extends Component {\r\n  state={\r\n    comment:{},\r\n    redirect: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { comments, id }= this.props\r\n    this.setState(currState=> ({\r\n      currState,\r\n      comment: comments[id]\r\n    }))\r\n  }\r\n\r\n  handleChange=(e)=> {\r\n   const text= e.target.value\r\n\r\n   this.setState(currState => ({\r\n     comment: {\r\n     ...currState.comment,\r\n     body: text,\r\n     }\r\n   }))\r\n  }\r\n\r\n  handleSubmit= (e)=> {\r\n    e.preventDefault()\r\n    const { dispatch }= this.props\r\n    const { comment }= this.state\r\n\r\n    dispatch(handleEditComment({ comment }))\r\n    .then(()=> {\r\n      this.setState(currState=> ({\r\n        redirect: true,\r\n      }))\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { body }= this.state.comment\r\n\r\n    if(this.state.redirect) {\r\n      return <Redirect to='/'/>\r\n    }\r\n    return (\r\n      <Container>\r\n        <Form onSubmit={(e)=> this.handleSubmit(e)}>\r\n          <Label>\r\n            Body\r\n            <Textarea\r\n              value={ body }\r\n              onChange={ (e)=> this.handleChange(e)}\r\n            />\r\n          </Label>\r\n          <Label>\r\n            <Input\r\n              type='submit'\r\n              value='Submit'\r\n            />\r\n          </Label>\r\n        </Form>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ comments }, props) {\r\n  const { id }= props.match.params\r\n  return {\r\n    comments,\r\n    id,\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(EditComment)\r\n","export const RECEIVE_CATEGORIES = 'RECEIVE_CATEGORIES'\r\nexport const ADD_CATEGORIES = 'ADD_CATEGORIES'\r\n\r\nexport function receiveCategories ({categories}) {\r\n  return {\r\n    type: RECEIVE_CATEGORIES,\r\n    categories,\r\n  }\r\n\r\n}\r\n","import { receiveCategories } from './categories'\r\nimport { receivePosts } from './posts'\r\nimport { receiveComments } from './comments'\r\n\r\nconst categoriesModule= require('../api-server/categories')\r\nconst postsModule= require('../api-server/posts')\r\nconst commentsModule= require('../api-server/comments')\r\n\r\nexport default function handleInitialData() {\r\n  return (dispatch)=> {\r\n    return Promise.all([categoriesModule.getAll(), postsModule.getData(),commentsModule.getData()])\r\n    .then((values)=> {\r\n      dispatch(receiveCategories(values[0]))\r\n      dispatch(receivePosts(values[1]))\r\n      dispatch(receiveComments(values[2]))\r\n\r\n    })\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\n\r\nconst Container= styled.div`\r\n  background: rgb(15, 212, 136);\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  padding: 15px;\r\n`\r\n\r\n\r\nclass NavBar extends Component {\r\n  render(){\r\n    return(\r\n      <Container>\r\n        <NavLink to='/'\r\n          style={{\r\n            textDecoration: 'none',\r\n            color: 'white',\r\n            }}>\r\n            Home\r\n        </NavLink>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NavBar\r\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport Home from './components/Home'\nimport CategoryView from './components/CategoryView'\nimport PostView from './components/PostView'\nimport AddorCreate from './components/AddorCreate'\nimport AddComment from './components/AddComment'\nimport EditPost from './components/EditPost'\nimport EditComment from './components/EditComment'\nimport handleInitialData from './actions/shared'\nimport { connect } from 'react-redux'\nimport styled, { css, createGlobalStyle } from 'styled-components'\nimport NavBar from './components/NavBar'\n\nconst GlobalStyle= createGlobalStyle`\n  html, body {\n    height: 100%;\n    background: rgb(2, 150, 156);\n  }\n`\n\nclass App extends Component {\n\n state= {\n   loading: true,\n }\n  componentDidMount() {\n    this.props.dispatch(handleInitialData())\n    .then(()=> {\n      this.setState((currState)=> ({\n        loading: false,\n      }))\n    })\n  }\n\n  render() {\n\n    return (\n\n      <Router>\n        <div>\n          <Route path='/' component={ NavBar } />\n          <Route exact path='/' component={ Home } />\n          <Route path='/categoryview/:path' component={ CategoryView } />\n          <Route path='/postview/:pid' component={ PostView } />\n          <Route path='/add/:pathname' component={ AddorCreate } />\n          <Route path='/addcomment/:pid' component={ AddComment } />\n          <Route path='/edit/:pid' component={ EditPost }/>\n          <Route path='/editcomment/:id' component={ EditComment } />\n          </div>\n      </Router>\n    )\n  }\n}\n\n\nexport default connect()(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from 'redux'\r\nimport categories from './categories'\r\nimport posts from './posts'\r\nimport comments from './comments'\r\n\r\nexport default combineReducers({\r\n  categories,\r\n  posts,\r\n  comments,\r\n})\r\n","import { RECEIVE_CATEGORIES, ADD_CATEGORIES } from '../actions/categories'\r\n\r\nexport default function categories(state={}, action) {\r\n    switch(action.type) {\r\n      case RECEIVE_CATEGORIES:\r\n        return {\r\n          ...state,\r\n          ...action.categories,\r\n        }\r\n        case ADD_CATEGORIES:\r\n        return {\r\n          ...state,\r\n          ...action.category,\r\n        }\r\n        default: return state\r\n    }\r\n}\r\n","import { RECEIVE_POSTS, ADD_POST, EDIT_POST, DELETE_POST, VOTE_POST } from '../actions/posts'\r\n\r\nexport default function posts(state={}, action) {\r\n  switch(action.type) {\r\n    case RECEIVE_POSTS:\r\n      return  {\r\n        ...action.posts,\r\n      }\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        [action.post.id] : action.post,\r\n      }\r\n    case EDIT_POST:\r\n      return {\r\n        ...state,\r\n        [action.post.id]: action.post,\r\n      }\r\n    \r\n    default:\r\n    return state\r\n  }\r\n}\r\n","import { RECEIVE_COMMENTS, ADD_COMMENT, EDIT_COMMENT, DELETE_COMMENT } from '../actions/comments'\r\n\r\nexport default function comments(state={}, action) {\r\n  switch(action.type) {\r\n    case RECEIVE_COMMENTS:\r\n      return {\r\n       ...state,\r\n       ...action.comments\r\n     }\r\n     case ADD_COMMENT:\r\n       return {\r\n         ...state,\r\n         [action.comment.id]: action.comment,\r\n       }\r\n    case EDIT_COMMENT:\r\n      return {\r\n        ...state,\r\n        [action.comment.id]: action.comment,\r\n      }\r\n    case DELETE_COMMENT:\r\n      return {\r\n        ...state,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const logger= (store)=> (next)=> (action)=> {\r\n  console.group(action.type)\r\n    console.log('The action:', action)\r\n    const returnValue = next(action)\r\n    console.log('The new state:', store.getState())\r\n  console.groupEnd()\r\n  return returnValue\r\n}\r\nexport default logger\r\n","import logger from './logger'\r\nimport thunk from 'redux-thunk'\r\nimport { applyMiddleware } from 'redux'\r\n\r\nexport default applyMiddleware(\r\n  thunk,\r\n  logger,\r\n)\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore } from 'redux'\nimport reducer from './reducers'\nimport middleware from './middleware'\nimport { Provider } from 'react-redux'\nimport styled, { css, createGlobalStyle } from 'styled-components'\n\nconst GlobalStyle= createGlobalStyle`\n  html, body {\n    min-height: 100%;\n    background: rgb(2, 150, 156);\n    padding: 0;\n    margin:0;\n  }\n`\nconst store= createStore(reducer, middleware)\n\nReactDOM.render(<><Provider store={store}><App /></Provider><GlobalStyle /></>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}